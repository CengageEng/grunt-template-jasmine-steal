<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Jasmine Spec Runner</title>

  <% if(options.steal.options) { %>
    <script>
      steal = <%= JSON.stringify(options.steal.options) %>
    </script>
  <% } %>

  <script src="<%= options.steal.url %>"></script>


 <% css.forEach(function(style){ %>
  <link rel="stylesheet" type="text/css" href="<%= style %>">
  <% }) %>
  
</head>
<body>
  <% if(options.steal.executed) { %>
    <script type="text/javascript">
      <% options.steal.executed.forEach(function(script) { %>
        steal.executed("<%= script %>");
      <% }) %>
    </script>
  <% } %>
  <script type="text/javascript">
  steal.then("stealconfig.js")

  <% if (options.steal.map) { %>
  .then(function()
      {
          var map = steal.extend(steal.config('map')['*'],
                  <%= JSON.stringify(options.steal.map) %>
          );
          steal.config('map', {'*': map});
       })
  <% } %>
  <% with (scripts) { %>
  <% [].concat(jasmine, vendor, helpers).forEach(function(script){ %>
    .then("<%= fn.pathify(script) %>")
  <% }) %>
  <% }; %>
  <% scripts.reporters.forEach(function(script, i){ %>
    .then("<%= fn.pathify(script) %>")
  <% }) %>
  <% scripts.specs.forEach(function(script, i){ %>
    .then("<%= fn.pathify(script) %>")
  <% }) %>
  <% scripts.start.forEach(function(script, i){ %>
    .then("<%= fn.pathify(script) %>")
  <% }) %>
  </script>
</body>
</html>
